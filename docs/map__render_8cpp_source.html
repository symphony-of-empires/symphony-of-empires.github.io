<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Symphony Of Empires: game/src/client/map_render.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Symphony Of Empires
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('map__render_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">map_render.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="map__render_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Symphony of Empires</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright (C) 2021, Symphony of Empires contributors</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// with this program; if not, write to the Free Software Foundation, Inc.,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Name:</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//      client/map_render.cpp</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// Abstract:</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//      Does some important stuff.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;glm/gtc/matrix_transform.hpp&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;ctime&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="texture_8hpp.html">unified_render/texture.hpp</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="primitive_8hpp.html">unified_render/primitive.hpp</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="shader_8hpp.html">unified_render/shader.hpp</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="framebuffer_8hpp.html">unified_render/framebuffer.hpp</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="path_8hpp.html">unified_render/path.hpp</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="print_8hpp.html">unified_render/print.hpp</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="state_8hpp.html">unified_render/state.hpp</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8hpp.html">map.hpp</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="world_8hpp.html">world.hpp</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="province_8hpp.html">province.hpp</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__render_8hpp.html">client/map_render.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8hpp.html">client/map.hpp</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="orbit__camera_8hpp.html">client/orbit_camera.hpp</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flat__camera_8hpp.html">client/flat_camera.hpp</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="camera_8hpp.html">client/camera.hpp</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_map_render.html#a105cf748b0ea2035f6f2100dbe32a68d">   55</a></span>&#160;<a class="code" href="class_map_render.html#a105cf748b0ea2035f6f2100dbe32a68d">MapRender::MapRender</a>(<span class="keyword">const</span> <a class="code" href="class_world.html">World</a>&amp; _world)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    : world(_world)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// Flat surface for drawing flat map </span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    map_quad = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_square.html">UnifiedRender::Square</a>(0.f, 0.f, world.<a class="code" href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">width</a>, world.<a class="code" href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">height</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// Sphere surface for drawing globe map</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    map_sphere = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_sphere.html">UnifiedRender::Sphere</a>(0.f, 0.f, 0.f, GLOBE_RADIUS, 100);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// Simple 2D quad that fills viewport, used for making the border_sdf</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    map_2d_quad = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_quad2_d.html">UnifiedRender::Quad2D</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Mipmapped textures</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> mipmap_options{};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    mipmap_options.<a class="code" href="class_unified_render_1_1_texture_options.html#aecd76da52e499a4c4fca8c7201816d98">wrap_s</a> = GL_REPEAT;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    mipmap_options.wrap_t = GL_REPEAT;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    mipmap_options.min_filter = GL_LINEAR_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    mipmap_options.mag_filter = GL_LINEAR;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    mipmap_options.internal_format = GL_RGB;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">auto</span> tex_man = <a class="code" href="class_unified_render_1_1_state.html#a7f295bc520c2be4cafa47ad08b78e9c9">UnifiedRender::State::get_instance</a>().<a class="code" href="class_unified_render_1_1_state.html#ac7540f912e7e0e38bd36704967d4b8a0">tex_man</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    water_tex = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;gfx/water_tex.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    landscape_map = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/color.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    wave1 = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;gfx/wave1.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    wave2 = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;gfx/wave2.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    mipmap_options.internal_format = GL_RED;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    bathymethry = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/bathymethry.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    noise_tex = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;gfx/noise_tex.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    river_tex = &amp;tex_man-&gt;load(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/river_smooth.png&quot;</span>), mipmap_options);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    terrain_map = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/terrain.png&quot;</span>));</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">size_t</span> terrain_map_size = terrain_map-&gt;<a class="code" href="class_binary_image.html#a370a7058e242924b24ab1b01d836781d">width</a> * terrain_map-&gt;<a class="code" href="class_binary_image.html#acac78a1d24119f7c1251d946f1d5e288">height</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; terrain_map_size; i++) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        uint32_t color = terrain_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        uint32_t base_index = 0xFF000000;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">if</span>(color == 0xFF000000) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            terrain_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = base_index + 0; <span class="comment">// Ocean</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 0xFFFF00FF) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            terrain_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = base_index + 1; <span class="comment">// Lake </span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 0xFFFFFFFF) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            terrain_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = base_index + 2; <span class="comment">// Land</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> single_color{};</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    single_color.<a class="code" href="class_unified_render_1_1_texture_options.html#a6d380d1f6c8f6e8bf5c91c1220af3717">internal_format</a> = GL_RED;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    terrain_map-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">to_opengl</a>(single_color);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    terrain_map-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a4839519036d30a3a7bf5fdac46383b11">gen_mipmaps</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">auto</span> topo_map = std::unique_ptr&lt;UnifiedRender::Texture&gt;(<span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/topo.png&quot;</span>)));</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    normal_topo = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(<a class="code" href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a>(<span class="stringliteral">&quot;map/normal.png&quot;</span>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">size_t</span> map_size = topo_map-&gt;<a class="code" href="class_binary_image.html#a370a7058e242924b24ab1b01d836781d">width</a> * topo_map-&gt;<a class="code" href="class_binary_image.html#acac78a1d24119f7c1251d946f1d5e288">height</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; map_size; i++) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        normal_topo-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] &amp;= (0x00FFFFFF);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        normal_topo-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] |= (topo_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] &amp; 0xFF) &lt;&lt; 24;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    topo_map.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    mipmap_options.internal_format = GL_RGBA;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    normal_topo-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">to_opengl</a>(mipmap_options);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    normal_topo-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a4839519036d30a3a7bf5fdac46383b11">gen_mipmaps</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Terrain textures to sample from</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// terrain_sheet = new UnifiedRender::TextureArray(Path::get(&quot;terrain_sheet.png&quot;), 4, 4);</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// terrain_sheet-&gt;to_opengl();</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// The map shader that draws everything on the map </span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    map_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a4c87db55b86910cd5155f03f7be1ebc9">get_options</a>(), <span class="stringliteral">&quot;shaders/map.vs&quot;</span>, <span class="stringliteral">&quot;shaders/map.fs&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    border_gen_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_gen.fs&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    border_sdf_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_sdf.fs&quot;</span>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    output_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_sdf_output.fs&quot;</span>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="print_8hpp.html#a4d6d61888d367fc052c4491545bd0560">print_info</a>(<span class="stringliteral">&quot;Creating tile map &amp; tile sheet&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// The province &amp; nation mapping</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Alpha &amp; Blue is for nation id</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// Red &amp; Green is for province id</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    tile_map = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(world.<a class="code" href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">width</a>, world.<a class="code" href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">height</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; world.<a class="code" href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">width</a> * world.<a class="code" href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">height</a>; i++) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_tile.html">Tile</a>&amp; tile = world.<a class="code" href="class_world.html#a77198e4ec1b6b5a6505a9a923eec4e91">get_tile</a>(i);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span>(tile.<a class="code" href="class_tile.html#af31e9ad18163ce9d37f2e51affd78ef9">province_id</a> &gt;= (<a class="code" href="class_entity.html#abdfc45f6142500ce5600bf056823b9eb">Province::Id</a>)-3) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            tile_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = (tile.<a class="code" href="class_tile.html#af31e9ad18163ce9d37f2e51affd78ef9">province_id</a> &amp; 0xffff);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keyword">auto</span> province = world.provinces[tile.<a class="code" href="class_tile.html#af31e9ad18163ce9d37f2e51affd78ef9">province_id</a>];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span>(province-&gt;owner == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                tile_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = province-&gt;cached_id &amp; 0xffff;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                tile_map-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = ((world.<a class="code" href="class_world.html#ae4bea99395c77d8afcbc54333e7b84a3">get_id</a>(province-&gt;owner) &amp; 0xffff) &lt;&lt; 16) | (province-&gt;cached_id &amp; 0xffff);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> tile_map_options{};</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    tile_map_options.<a class="code" href="class_unified_render_1_1_texture_options.html#a6d380d1f6c8f6e8bf5c91c1220af3717">internal_format</a> = GL_RGBA32F;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    tile_map_options.editable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    tile_map-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">to_opengl</a>(tile_map_options);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    tile_map-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a4839519036d30a3a7bf5fdac46383b11">gen_mipmaps</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// Texture holding each province color</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// The x &amp; y coords are the province Red &amp; Green color of the tile_map</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    tile_sheet = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(256, 256);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 256 * 256; i++) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        tile_sheet-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[i] = 0xffdddddd;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// By default textures will be dropped from the CPU in order to save memory, however we&#39;re trying</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// to make a buffer-texture so we have to keep it or we will have trouble</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> no_drop_options{};</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    no_drop_options.<a class="code" href="class_unified_render_1_1_texture_options.html#aad715c16e5ef1b29629e57643c3a9f2f">editable</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    tile_sheet-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">to_opengl</a>(no_drop_options);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="print_8hpp.html#a4d6d61888d367fc052c4491545bd0560">print_info</a>(<span class="stringliteral">&quot;Creating border textures&quot;</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a3541079136042672e42841b4a978e30d">sdf</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        border_sdf = gen_border_sdf();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="class_map_render.html#a6aedf1f66b245750840db0195be1a1d1">  171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map_render.html#a6aedf1f66b245750840db0195be1a1d1">MapRender::reload_shaders</a>() {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    map_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a4c87db55b86910cd5155f03f7be1ebc9">get_options</a>(), <span class="stringliteral">&quot;shaders/map.vs&quot;</span>, <span class="stringliteral">&quot;shaders/map.fs&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    border_sdf_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_sdf.fs&quot;</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    border_gen_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_gen.fs&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    output_shader = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a>(<span class="stringliteral">&quot;shaders/2d_shader.vs&quot;</span>, <span class="stringliteral">&quot;shaders/border_sdf_output.fs&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    border_sdf.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a3541079136042672e42841b4a978e30d">sdf</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        border_sdf = gen_border_sdf();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__state_8hpp.html">client/game_state.hpp</a>&quot;</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">// Creates the &quot;waving&quot; border around the continent to give it a 19th century map feel</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// Generate a distance field to from each border using the jump flooding algorithm</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">// Used to create borders thicker than one tile</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;std::unique_ptr&lt;UnifiedRender::Texture&gt; MapRender::gen_border_sdf() {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    glDisable(GL_CULL_FACE);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">auto</span> border_tex = <span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(world.<a class="code" href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">width</a>, world.<a class="code" href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">height</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> border_tex_options{};</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    border_tex_options.<a class="code" href="class_unified_render_1_1_texture_options.html#a6d380d1f6c8f6e8bf5c91c1220af3717">internal_format</a> = GL_RGBA32F;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    border_tex_options.min_filter = GL_LINEAR_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    border_tex_options.mag_filter = GL_LINEAR;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    border_tex_options.editable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    border_tex-&gt;to_opengl(border_tex_options);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    border_tex-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="print_8hpp.html#a4d6d61888d367fc052c4491545bd0560">print_info</a>(<span class="stringliteral">&quot;Creating border framebuffer&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">auto</span> border_fbuffer = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    border_fbuffer.use();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    border_fbuffer.set_texture(0, *border_tex);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="print_8hpp.html#a4d6d61888d367fc052c4491545bd0560">print_info</a>(<span class="stringliteral">&quot;Drawing border with border shader&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    glViewport(0, 0, tile_map-&gt;<a class="code" href="class_binary_image.html#a370a7058e242924b24ab1b01d836781d">width</a>, tile_map-&gt;<a class="code" href="class_binary_image.html#acac78a1d24119f7c1251d946f1d5e288">height</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    border_gen_shader-&gt;use();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    border_gen_shader-&gt;set_uniform(<span class="stringliteral">&quot;map_size&quot;</span>, (<span class="keywordtype">float</span>)tile_map-&gt;<a class="code" href="class_binary_image.html#a370a7058e242924b24ab1b01d836781d">width</a>, (<span class="keywordtype">float</span>)tile_map-&gt;<a class="code" href="class_binary_image.html#acac78a1d24119f7c1251d946f1d5e288">height</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    border_gen_shader-&gt;set_texture(0, <span class="stringliteral">&quot;tile_map&quot;</span>, *tile_map);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    border_gen_shader-&gt;set_texture(1, <span class="stringliteral">&quot;terrain_map&quot;</span>, *terrain_map);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    map_2d_quad-&gt;draw();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    glBindFramebuffer(GL_FRAMEBUFFER, 0);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    border_tex-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    glViewport(0, 0, border_tex-&gt;width, border_tex-&gt;height);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    border_sdf_shader-&gt;use();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    border_sdf_shader-&gt;set_uniform(<span class="stringliteral">&quot;map_size&quot;</span>, (<span class="keywordtype">float</span>)border_tex-&gt;width, (<span class="keywordtype">float</span>)border_tex-&gt;height);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> fbo_mipmap_options{};</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    fbo_mipmap_options.<a class="code" href="class_unified_render_1_1_texture_options.html#a6d380d1f6c8f6e8bf5c91c1220af3717">internal_format</a> = GL_RGB32F;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    fbo_mipmap_options.min_filter = GL_LINEAR_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    fbo_mipmap_options.mag_filter = GL_LINEAR;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    fbo_mipmap_options.editable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// The Red &amp; Green color channels are the coords on the map</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// The Blue is the distance to a border</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">auto</span> tex0 = std::unique_ptr&lt;UnifiedRender::Texture&gt;(<span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(border_tex-&gt;width, border_tex-&gt;height));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    tex0-&gt;to_opengl(fbo_mipmap_options);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">auto</span> tex1 = std::unique_ptr&lt;UnifiedRender::Texture&gt;(<span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(border_tex-&gt;width, border_tex-&gt;height));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    tex1-&gt;to_opengl(fbo_mipmap_options);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a> fbo = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    fbo.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#a346025dc67effaecf5437f195fa2151f">use</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Jump flooding iterations, each step give a distance field 2^steps pixels away from the border</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_steps = 4.f;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">bool</span> drawOnTex0 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> step = max_steps; step &gt;= 1; step /= 2) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Swap read/write buffers</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        drawOnTex0 = !drawOnTex0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        tex0-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        tex1-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        border_sdf_shader-&gt;set_uniform(<span class="stringliteral">&quot;jump&quot;</span>, (<span class="keywordtype">float</span>)step);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        fbo.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#ae4ad6b0a55d23c43b2b3fe7a0db04aec">set_texture</a>(0, drawOnTex0 ? *tex0 : *tex1);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span>(step == max_steps) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            border_sdf_shader-&gt;set_texture(0, <span class="stringliteral">&quot;tex&quot;</span>, *border_tex);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            border_sdf_shader-&gt;set_texture(0, <span class="stringliteral">&quot;tex&quot;</span>, drawOnTex0 ? *tex1 : *tex0);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="comment">// Draw a plane over the entire screen to invoke shaders</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        map_2d_quad-&gt;draw();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// Delete the textures no used from memory</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">delete</span> border_tex;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span>(drawOnTex0) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        tex1.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        tex1 = std::move(tex0);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        tex0.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    tex1-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a> output_fbo = <a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a>();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    output_fbo.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#a346025dc67effaecf5437f195fa2151f">use</a>();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    output_shader-&gt;use();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> output_options{};</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    output_options.<a class="code" href="class_unified_render_1_1_texture_options.html#ab304ce6f7b2e01711bd671f10a15334e">format</a> = GL_RED;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    output_options.internal_format = GL_RED;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    output_options.min_filter = GL_LINEAR_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    output_options.mag_filter = GL_LINEAR;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    output_options.editable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    tex0.reset(<span class="keyword">new</span> <a class="code" href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a>(tex1-&gt;width, tex1-&gt;height));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    tex0-&gt;to_opengl(output_options);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    output_fbo.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#ae4ad6b0a55d23c43b2b3fe7a0db04aec">set_texture</a>(0, *tex0);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    output_shader-&gt;set_texture(0, <span class="stringliteral">&quot;tex&quot;</span>, *tex1);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    map_2d_quad-&gt;draw();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    glFinish();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    tex0-&gt;gen_mipmaps();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    tex1.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    glBindFramebuffer(GL_FRAMEBUFFER, 0);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// Copy the object</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> tex0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">// Updates the province color texture with the changed provinces </span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="class_map_render.html#af057c612d2ccae0650d6dfd0341922ba">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map_render.html#af057c612d2ccae0650d6dfd0341922ba">MapRender::update_mapmode</a>(std::vector&lt;ProvinceColor&gt; province_colors) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> <span class="keyword">const</span>&amp; province_color : province_colors) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        tile_sheet-&gt;<a class="code" href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">buffer</a>.get()[province_color.id] = province_color.color.get_value();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a> no_drop_options{};</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    no_drop_options.<a class="code" href="class_unified_render_1_1_texture_options.html#aad715c16e5ef1b29629e57643c3a9f2f">editable</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    tile_sheet-&gt;<a class="code" href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">to_opengl</a>(no_drop_options);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="class_map_render.html#ac01e8c24cfcd435512bd29f61967d79e">  301</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map_render.html#ac01e8c24cfcd435512bd29f61967d79e">MapRender::draw</a>(<a class="code" href="class_camera.html">Camera</a>* camera, <a class="code" href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207">MapView</a> view_mode) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    glm::mat4 view, projection;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    map_shader-&gt;use();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    view = camera-&gt;<a class="code" href="class_camera.html#a9c50f635e1417e9dc0aebe53ecd24dc2">get_view</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    map_shader-&gt;set_uniform(<span class="stringliteral">&quot;view&quot;</span>, view);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    glm::vec3 cam_pos = camera-&gt;<a class="code" href="class_camera.html#a02ca73f04f39610d764440ee6643d76e">get_world_pos</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    map_shader-&gt;set_uniform(<span class="stringliteral">&quot;view_pos&quot;</span>, cam_pos.x, cam_pos.y, cam_pos.z);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    projection = camera-&gt;<a class="code" href="class_camera.html#a8818f4d88b92635279c1769af46a2bbe">get_projection</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    map_shader-&gt;set_uniform(<span class="stringliteral">&quot;projection&quot;</span>, projection);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    map_shader-&gt;set_uniform(<span class="stringliteral">&quot;map_size&quot;</span>, (<span class="keywordtype">float</span>)world.<a class="code" href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">width</a>, (<span class="keywordtype">float</span>)world.<a class="code" href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">height</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// A time uniform to send to the shader</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keyword">auto</span> now = std::chrono::system_clock::now().time_since_epoch();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">auto</span> millisec_since_epoch = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(now).count();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">float</span> time = (float)(millisec_since_epoch % 1000000) / 1000.f;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    map_shader-&gt;set_uniform(<span class="stringliteral">&quot;time&quot;</span>, time);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Map should have no &quot;model&quot; matrix since it&#39;s always static</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    map_shader-&gt;set_texture(0, <span class="stringliteral">&quot;tile_map&quot;</span>, *tile_map); <span class="comment">// 4 col</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    map_shader-&gt;set_texture(1, <span class="stringliteral">&quot;tile_sheet&quot;</span>, *tile_sheet);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    map_shader-&gt;set_texture(2, <span class="stringliteral">&quot;water_texture&quot;</span>, *water_tex);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a0799b11d9c77c1d0c27e6f3366a3c870">noise</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        map_shader-&gt;set_texture(3, <span class="stringliteral">&quot;noise_texture&quot;</span>, *noise_tex);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    map_shader-&gt;set_texture(4, <span class="stringliteral">&quot;terrain_map&quot;</span>, *terrain_map); <span class="comment">// 1 col</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// Temporary not in use</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// map_shader-&gt;set_texture(5, &quot;terrain_sheet&quot;, terrain_sheet);</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a3541079136042672e42841b4a978e30d">sdf</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        map_shader-&gt;set_texture(6, <span class="stringliteral">&quot;border_sdf&quot;</span>, *(border_sdf.get())); <span class="comment">// 1 col</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    map_shader-&gt;set_texture(7, <span class="stringliteral">&quot;bathymethry&quot;</span>, *bathymethry); <span class="comment">// 1 col</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a906994eca0a44352e0858ec1330743c5">landscape</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        map_shader-&gt;set_texture(8, <span class="stringliteral">&quot;landscape_map&quot;</span>, *landscape_map); <span class="comment">// 3 col</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a6200a01ec56721d5a04736dd7a820aad">rivers</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        map_shader-&gt;set_texture(9, <span class="stringliteral">&quot;river_texture&quot;</span>, *river_tex); <span class="comment">// 1 col</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">options</a>.<a class="code" href="class_map_options.html#a3a85bcdb3c911fb4ff40bb421411e968">lighting</a>.<a class="code" href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">used</a>) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        map_shader-&gt;set_texture(10, <span class="stringliteral">&quot;wave1&quot;</span>, *wave1);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        map_shader-&gt;set_texture(11, <span class="stringliteral">&quot;wave2&quot;</span>, *wave2);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        map_shader-&gt;set_texture(12, <span class="stringliteral">&quot;normal&quot;</span>, *normal_topo); <span class="comment">// 3 col</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span>(view_mode == <a class="code" href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207aed87ab2918ef1f41c9c848432ecb7501">MapView::PLANE_VIEW</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        map_quad-&gt;draw();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(view_mode == <a class="code" href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207a5abb4d94b335e1fa4c5956070f0752b8">MapView::SPHERE_VIEW</a>) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        map_sphere-&gt;draw();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_entity_html_abdfc45f6142500ce5600bf056823b9eb"><div class="ttname"><a href="class_entity.html#abdfc45f6142500ce5600bf056823b9eb">Entity&lt; uint16_t &gt;::Id</a></div><div class="ttdeci">uint16_t Id</div><div class="ttdef"><b>Definition:</b> <a href="entity_8hpp_source.html#l00034">entity.hpp:34</a></div></div>
<div class="ttc" id="amap__render_8hpp_html"><div class="ttname"><a href="map__render_8hpp.html">map_render.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_options_html_aecd76da52e499a4c4fca8c7201816d98"><div class="ttname"><a href="class_unified_render_1_1_texture_options.html#aecd76da52e499a4c4fca8c7201816d98">UnifiedRender::TextureOptions::wrap_s</a></div><div class="ttdeci">GLuint wrap_s</div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00063">texture.hpp:63</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_html_a75dcb99342ea207731dbeb0b43fae1cb"><div class="ttname"><a href="class_unified_render_1_1_texture.html#a75dcb99342ea207731dbeb0b43fae1cb">UnifiedRender::Texture::to_opengl</a></div><div class="ttdeci">void to_opengl(TextureOptions options=default_options)</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cpp_source.html#l00086">texture.cpp:86</a></div></div>
<div class="ttc" id="aclass_map_render_html_ac01e8c24cfcd435512bd29f61967d79e"><div class="ttname"><a href="class_map_render.html#ac01e8c24cfcd435512bd29f61967d79e">MapRender::draw</a></div><div class="ttdeci">void draw(Camera *camera, MapView view_mode)</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8cpp_source.html#l00301">map_render.cpp:301</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_open_g_l_1_1_framebuffer_html_a346025dc67effaecf5437f195fa2151f"><div class="ttname"><a href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#a346025dc67effaecf5437f195fa2151f">UnifiedRender::OpenGL::Framebuffer::use</a></div><div class="ttdeci">void use()</div><div class="ttdef"><b>Definition:</b> <a href="framebuffer_8cpp_source.html#l00048">framebuffer.cpp:48</a></div></div>
<div class="ttc" id="aflat__camera_8hpp_html"><div class="ttname"><a href="flat__camera_8hpp.html">flat_camera.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_open_g_l_1_1_program_html_a98d7987a84e7742bb9bb324c34ed7603"><div class="ttname"><a href="class_unified_render_1_1_open_g_l_1_1_program.html#a98d7987a84e7742bb9bb324c34ed7603">UnifiedRender::OpenGL::Program::create</a></div><div class="ttdeci">static std::unique_ptr&lt; Program &gt; create(const std::string &amp;vs_path, const std::string &amp;fs_path, const std::string &amp;gs_path=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="shader_8cpp_source.html#l00246">shader.cpp:246</a></div></div>
<div class="ttc" id="amap_8hpp_html_a7114091973d193ba550e4f9deac3f207"><div class="ttname"><a href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207">MapView</a></div><div class="ttdeci">MapView</div><div class="ttdef"><b>Definition:</b> <a href="map_8hpp_source.html#l00055">map.hpp:55</a></div></div>
<div class="ttc" id="aclass_map_render_html_aee39cd595488a2a1912111ad49bd1f9f"><div class="ttname"><a href="class_map_render.html#aee39cd595488a2a1912111ad49bd1f9f">MapRender::options</a></div><div class="ttdeci">MapOptions options</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00089">map_render.hpp:89</a></div></div>
<div class="ttc" id="aclass_map_render_html_af057c612d2ccae0650d6dfd0341922ba"><div class="ttname"><a href="class_map_render.html#af057c612d2ccae0650d6dfd0341922ba">MapRender::update_mapmode</a></div><div class="ttdeci">void update_mapmode(std::vector&lt; ProvinceColor &gt; province_colors)</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8cpp_source.html#l00292">map_render.cpp:292</a></div></div>
<div class="ttc" id="amap_8hpp_html"><div class="ttname"><a href="map_8hpp.html">map.hpp</a></div></div>
<div class="ttc" id="aclass_camera_html_a8818f4d88b92635279c1769af46a2bbe"><div class="ttname"><a href="class_camera.html#a8818f4d88b92635279c1769af46a2bbe">Camera::get_projection</a></div><div class="ttdeci">virtual glm::mat4 get_projection()=0</div></div>
<div class="ttc" id="aclass_binary_image_html_a370a7058e242924b24ab1b01d836781d"><div class="ttname"><a href="class_binary_image.html#a370a7058e242924b24ab1b01d836781d">BinaryImage::width</a></div><div class="ttdeci">size_t width</div><div class="ttdef"><b>Definition:</b> <a href="binary__image_8hpp_source.html#l00063">binary_image.hpp:63</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_open_g_l_1_1_framebuffer_html_ae4ad6b0a55d23c43b2b3fe7a0db04aec"><div class="ttname"><a href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html#ae4ad6b0a55d23c43b2b3fe7a0db04aec">UnifiedRender::OpenGL::Framebuffer::set_texture</a></div><div class="ttdeci">void set_texture(int index, const UnifiedRender::Texture &amp;texture)</div><div class="ttdef"><b>Definition:</b> <a href="framebuffer_8cpp_source.html#l00040">framebuffer.cpp:40</a></div></div>
<div class="ttc" id="aclass_map_render_html_a105cf748b0ea2035f6f2100dbe32a68d"><div class="ttname"><a href="class_map_render.html#a105cf748b0ea2035f6f2100dbe32a68d">MapRender::MapRender</a></div><div class="ttdeci">MapRender(const World &amp;world)</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8cpp_source.html#l00055">map_render.cpp:55</a></div></div>
<div class="ttc" id="aworld_8hpp_html"><div class="ttname"><a href="world_8hpp.html">world.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_state_html_ac7540f912e7e0e38bd36704967d4b8a0"><div class="ttname"><a href="class_unified_render_1_1_state.html#ac7540f912e7e0e38bd36704967d4b8a0">UnifiedRender::State::tex_man</a></div><div class="ttdeci">UnifiedRender::TextureManager * tex_man</div><div class="ttdef"><b>Definition:</b> <a href="state_8hpp_source.html#l00087">state.hpp:87</a></div></div>
<div class="ttc" id="aprimitive_8hpp_html"><div class="ttname"><a href="primitive_8hpp.html">primitive.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_sphere_html"><div class="ttname"><a href="class_unified_render_1_1_sphere.html">UnifiedRender::Sphere</a></div><div class="ttdef"><b>Definition:</b> <a href="primitive_8hpp_source.html#l00053">primitive.hpp:53</a></div></div>
<div class="ttc" id="aclass_binary_image_html_acac78a1d24119f7c1251d946f1d5e288"><div class="ttname"><a href="class_binary_image.html#acac78a1d24119f7c1251d946f1d5e288">BinaryImage::height</a></div><div class="ttdeci">size_t height</div><div class="ttdef"><b>Definition:</b> <a href="binary__image_8hpp_source.html#l00063">binary_image.hpp:63</a></div></div>
<div class="ttc" id="aframebuffer_8hpp_html"><div class="ttname"><a href="framebuffer_8hpp.html">framebuffer.hpp</a></div></div>
<div class="ttc" id="acamera_8hpp_html"><div class="ttname"><a href="camera_8hpp.html">camera.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_options_html"><div class="ttname"><a href="class_unified_render_1_1_texture_options.html">UnifiedRender::TextureOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00060">texture.hpp:60</a></div></div>
<div class="ttc" id="aclass_world_html"><div class="ttname"><a href="class_world.html">World</a></div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00138">world.hpp:138</a></div></div>
<div class="ttc" id="aclass_map_options_html_a3a85bcdb3c911fb4ff40bb421411e968"><div class="ttname"><a href="class_map_options.html#a3a85bcdb3c911fb4ff40bb421411e968">MapOptions::lighting</a></div><div class="ttdeci">Option lighting</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00066">map_render.hpp:66</a></div></div>
<div class="ttc" id="aprint_8hpp_html_a4d6d61888d367fc052c4491545bd0560"><div class="ttname"><a href="print_8hpp.html#a4d6d61888d367fc052c4491545bd0560">print_info</a></div><div class="ttdeci">void print_info(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="print_8cpp_source.html#l00076">print.cpp:76</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_html_a4839519036d30a3a7bf5fdac46383b11"><div class="ttname"><a href="class_unified_render_1_1_texture.html#a4839519036d30a3a7bf5fdac46383b11">UnifiedRender::Texture::gen_mipmaps</a></div><div class="ttdeci">void gen_mipmaps() const</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cpp_source.html#l00106">texture.cpp:106</a></div></div>
<div class="ttc" id="aclass_map_options_html_a6200a01ec56721d5a04736dd7a820aad"><div class="ttname"><a href="class_map_options.html#a6200a01ec56721d5a04736dd7a820aad">MapOptions::rivers</a></div><div class="ttdeci">Option rivers</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00070">map_render.hpp:70</a></div></div>
<div class="ttc" id="amap_8hpp_html_a7114091973d193ba550e4f9deac3f207a5abb4d94b335e1fa4c5956070f0752b8"><div class="ttname"><a href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207a5abb4d94b335e1fa4c5956070f0752b8">MapView::SPHERE_VIEW</a></div><div class="ttdeci">@ SPHERE_VIEW</div></div>
<div class="ttc" id="aclass_tile_html_af31e9ad18163ce9d37f2e51affd78ef9"><div class="ttname"><a href="class_tile.html#af31e9ad18163ce9d37f2e51affd78ef9">Tile::province_id</a></div><div class="ttdeci">Province::Id province_id</div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00055">world.hpp:55</a></div></div>
<div class="ttc" id="aclass_map_options_html_a4c87db55b86910cd5155f03f7be1ebc9"><div class="ttname"><a href="class_map_options.html#a4c87db55b86910cd5155f03f7be1ebc9">MapOptions::get_options</a></div><div class="ttdeci">std::vector&lt; Option &gt; get_options()</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00074">map_render.hpp:74</a></div></div>
<div class="ttc" id="aclass_camera_html_a02ca73f04f39610d764440ee6643d76e"><div class="ttname"><a href="class_camera.html#a02ca73f04f39610d764440ee6643d76e">Camera::get_world_pos</a></div><div class="ttdeci">glm::vec3 get_world_pos()</div><div class="ttdef"><b>Definition:</b> <a href="camera_8hpp_source.html#l00062">camera.hpp:62</a></div></div>
<div class="ttc" id="aclass_world_html_ae9268d5c81cbe0bd06bff4196d15a79a"><div class="ttname"><a href="class_world.html#ae9268d5c81cbe0bd06bff4196d15a79a">World::height</a></div><div class="ttdeci">size_t height</div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00230">world.hpp:230</a></div></div>
<div class="ttc" id="aclass_binary_image_html_a35c9a2dfd2cfc602e2676f33c7d89372"><div class="ttname"><a href="class_binary_image.html#a35c9a2dfd2cfc602e2676f33c7d89372">BinaryImage::buffer</a></div><div class="ttdeci">std::unique_ptr&lt; uint32_t &gt; buffer</div><div class="ttdef"><b>Definition:</b> <a href="binary__image_8hpp_source.html#l00062">binary_image.hpp:62</a></div></div>
<div class="ttc" id="aclass_world_html_ae4bea99395c77d8afcbc54333e7b84a3"><div class="ttname"><a href="class_world.html#ae4bea99395c77d8afcbc54333e7b84a3">World::get_id</a></div><div class="ttdeci">size_t get_id(const Tile *ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00197">world.hpp:197</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_options_html_ab304ce6f7b2e01711bd671f10a15334e"><div class="ttname"><a href="class_unified_render_1_1_texture_options.html#ab304ce6f7b2e01711bd671f10a15334e">UnifiedRender::TextureOptions::format</a></div><div class="ttdeci">GLuint format</div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00068">texture.hpp:68</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_open_g_l_1_1_framebuffer_html"><div class="ttname"><a href="class_unified_render_1_1_open_g_l_1_1_framebuffer.html">UnifiedRender::OpenGL::Framebuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="framebuffer_8hpp_source.html#l00034">framebuffer.hpp:34</a></div></div>
<div class="ttc" id="ashader_8hpp_html"><div class="ttname"><a href="shader_8hpp.html">shader.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_square_html"><div class="ttname"><a href="class_unified_render_1_1_square.html">UnifiedRender::Square</a></div><div class="ttdef"><b>Definition:</b> <a href="primitive_8hpp_source.html#l00041">primitive.hpp:41</a></div></div>
<div class="ttc" id="anamespace_path_html_a59cf8c2838b090bc4ebf0130931fe985"><div class="ttname"><a href="namespace_path.html#a59cf8c2838b090bc4ebf0130931fe985">Path::get</a></div><div class="ttdeci">std::string get(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="path_8cpp_source.html#l00095">path.cpp:95</a></div></div>
<div class="ttc" id="amap_8hpp_html_a7114091973d193ba550e4f9deac3f207aed87ab2918ef1f41c9c848432ecb7501"><div class="ttname"><a href="map_8hpp.html#a7114091973d193ba550e4f9deac3f207aed87ab2918ef1f41c9c848432ecb7501">MapView::PLANE_VIEW</a></div><div class="ttdeci">@ PLANE_VIEW</div></div>
<div class="ttc" id="aclass_unified_render_1_1_open_g_l_1_1_option_html_afcc126590f3a3c8ffdcc430ba5e79289"><div class="ttname"><a href="class_unified_render_1_1_open_g_l_1_1_option.html#afcc126590f3a3c8ffdcc430ba5e79289">UnifiedRender::OpenGL::Option::used</a></div><div class="ttdeci">bool used</div><div class="ttdef"><b>Definition:</b> <a href="shader_8hpp_source.html#l00052">shader.hpp:52</a></div></div>
<div class="ttc" id="aorbit__camera_8hpp_html"><div class="ttname"><a href="orbit__camera_8hpp.html">orbit_camera.hpp</a></div></div>
<div class="ttc" id="aprovince_8hpp_html"><div class="ttname"><a href="province_8hpp.html">province.hpp</a></div></div>
<div class="ttc" id="aclass_world_html_a5fa68b11804459ba3679b5cc429600ff"><div class="ttname"><a href="class_world.html#a5fa68b11804459ba3679b5cc429600ff">World::width</a></div><div class="ttdeci">size_t width</div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00230">world.hpp:230</a></div></div>
<div class="ttc" id="atexture_8hpp_html"><div class="ttname"><a href="texture_8hpp.html">texture.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_options_html_aad715c16e5ef1b29629e57643c3a9f2f"><div class="ttname"><a href="class_unified_render_1_1_texture_options.html#aad715c16e5ef1b29629e57643c3a9f2f">UnifiedRender::TextureOptions::editable</a></div><div class="ttdeci">bool editable</div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00070">texture.hpp:70</a></div></div>
<div class="ttc" id="agame__state_8hpp_html"><div class="ttname"><a href="game__state_8hpp.html">game_state.hpp</a></div></div>
<div class="ttc" id="aclass_tile_html"><div class="ttname"><a href="class_tile.html">Tile</a></div><div class="ttdef"><b>Definition:</b> <a href="world_8hpp_source.html#l00050">world.hpp:50</a></div></div>
<div class="ttc" id="aclass_camera_html"><div class="ttname"><a href="class_camera.html">Camera</a></div><div class="ttdef"><b>Definition:</b> <a href="camera_8hpp_source.html#l00034">camera.hpp:34</a></div></div>
<div class="ttc" id="aclass_map_options_html_a3541079136042672e42841b4a978e30d"><div class="ttname"><a href="class_map_options.html#a3541079136042672e42841b4a978e30d">MapOptions::sdf</a></div><div class="ttdeci">Option sdf</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00065">map_render.hpp:65</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_html"><div class="ttname"><a href="class_unified_render_1_1_texture.html">UnifiedRender::Texture</a></div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00074">texture.hpp:74</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_state_html_a7f295bc520c2be4cafa47ad08b78e9c9"><div class="ttname"><a href="class_unified_render_1_1_state.html#a7f295bc520c2be4cafa47ad08b78e9c9">UnifiedRender::State::get_instance</a></div><div class="ttdeci">static State &amp; get_instance(void)</div><div class="ttdef"><b>Definition:</b> <a href="state_8cpp_source.html#l00219">state.cpp:219</a></div></div>
<div class="ttc" id="astate_8hpp_html"><div class="ttname"><a href="state_8hpp.html">state.hpp</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_quad2_d_html"><div class="ttname"><a href="class_unified_render_1_1_quad2_d.html">UnifiedRender::Quad2D</a></div><div class="ttdef"><b>Definition:</b> <a href="primitive_8hpp_source.html#l00047">primitive.hpp:47</a></div></div>
<div class="ttc" id="aprint_8hpp_html"><div class="ttname"><a href="print_8hpp.html">print.hpp</a></div></div>
<div class="ttc" id="aclass_map_options_html_a0799b11d9c77c1d0c27e6f3366a3c870"><div class="ttname"><a href="class_map_options.html#a0799b11d9c77c1d0c27e6f3366a3c870">MapOptions::noise</a></div><div class="ttdeci">Option noise</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00064">map_render.hpp:64</a></div></div>
<div class="ttc" id="apath_8hpp_html"><div class="ttname"><a href="path_8hpp.html">path.hpp</a></div></div>
<div class="ttc" id="aclass_world_html_a77198e4ec1b6b5a6505a9a923eec4e91"><div class="ttname"><a href="class_world.html#a77198e4ec1b6b5a6505a9a923eec4e91">World::get_tile</a></div><div class="ttdeci">Tile &amp; get_tile(size_t x, size_t y) const</div><div class="ttdef"><b>Definition:</b> <a href="world_8cpp_source.html#l00096">world.cpp:96</a></div></div>
<div class="ttc" id="aclass_camera_html_a9c50f635e1417e9dc0aebe53ecd24dc2"><div class="ttname"><a href="class_camera.html#a9c50f635e1417e9dc0aebe53ecd24dc2">Camera::get_view</a></div><div class="ttdeci">virtual glm::mat4 get_view()=0</div></div>
<div class="ttc" id="aclass_map_options_html_a906994eca0a44352e0858ec1330743c5"><div class="ttname"><a href="class_map_options.html#a906994eca0a44352e0858ec1330743c5">MapOptions::landscape</a></div><div class="ttdeci">Option landscape</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8hpp_source.html#l00069">map_render.hpp:69</a></div></div>
<div class="ttc" id="aclass_unified_render_1_1_texture_options_html_a6d380d1f6c8f6e8bf5c91c1220af3717"><div class="ttname"><a href="class_unified_render_1_1_texture_options.html#a6d380d1f6c8f6e8bf5c91c1220af3717">UnifiedRender::TextureOptions::internal_format</a></div><div class="ttdeci">GLuint internal_format</div><div class="ttdef"><b>Definition:</b> <a href="texture_8hpp_source.html#l00067">texture.hpp:67</a></div></div>
<div class="ttc" id="aclass_map_render_html_a6aedf1f66b245750840db0195be1a1d1"><div class="ttname"><a href="class_map_render.html#a6aedf1f66b245750840db0195be1a1d1">MapRender::reload_shaders</a></div><div class="ttdeci">void reload_shaders()</div><div class="ttdef"><b>Definition:</b> <a href="map__render_8cpp_source.html#l00171">map_render.cpp:171</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_37c6514aeece95293041e34c0f2e0784.html">game</a></li><li class="navelem"><a class="el" href="dir_fd1fc52505cfa4c86ecd59c02433df11.html">src</a></li><li class="navelem"><a class="el" href="dir_712207efe50ad2c6008fdccfab30fe80.html">client</a></li><li class="navelem"><a class="el" href="map__render_8cpp.html">map_render.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
